.. title: Новости secondary arch в Fedora
.. slug: Новости-secondary-arch-в-fedora
.. date: 2016-08-24 17:59:27
.. tags:
.. category:
.. link:
.. description:
.. type: text
.. author: Peter Lemenkov

**Это архивная статья**


Довольно горячее обсуждение вызвала `публикация о переосмыслении
разделения процессорных архитектур, для которых собираются пакеты в Koji
на первичные и
вторичные <https://fedoraproject.org/wiki/Architectures/RedefiningSecondaryArchitectures>`__.

Сейчас разделение осуществляется на уровне сборки - Koji для secondary
arch физически отделен. Предлагается объeдинить все работоспособные
сборщики в одну точку входа. Сделать это предлагается постепенно - с
Fedora 26 к имеющимся сборщикам для i686, x86\_64, armv7hl добавится
сборщик для aarch64, а с Fedora 27 добавятся сборщики для архитектур
Power64 и s390.

Не все мэйнтейнеры обрадовались и поддержали предложение. Многие имеют
негативные впечатления от тормозного сборщика для armv7hl (давным давно
кто-то померял результаты сборки на физическом оборудовании для armv7hl,
и в Qemu, запущенном на мощном Intel-процессоре, и оказалось, что в
эмуляторе получается быстрее), и опасаются, что добавление новых
сборщиков для систем, которыми пользуются десятки человек, сильно
затруднит процесс сборки. Другие недовольны тем, что если предложение
примут, то ошибки сборки на непопулярных архитектурах будут блокировать
сборку и на популярных. Пока идет обсуждение, но скорее всего примут.

Масла в огонь подлил наш коллега `Rich W.M.
Jones <http://people.redhat.com/~rjones/>`__, который с радостью
`объявил <https://lists.fedoraproject.org/archives/list/devel@lists.fedoraproject.org/thread/SF36QMKHC5AOI73QLYTKAVQLFT5F3NVK/>`__,
что `вовсю идет процесс пересборки Fedora для новой процессорной
архитектуры <https://fedoraproject.org/wiki/Architectures/RISC-V>`__ -
`RISC-V <https://en.wikipedia.org/wiki/RISC-V>`__. Для архитектуры,
считай, не существует физического оборудования (надо покупать FPGA и
заливать туда прошивку проприетарными утилитами, работающими только под
Windoz, либо `использовать
Qemu <https://github.com/riscv/riscv-qemu>`__), и его неосторожное
высказывание, что он надеется сделать ее основной архитектурой сборки
еще больше разозлило тех, кто не желает терпеть проблемы от непопулярных
архитектур. Для RISC-V уже есть поддержка `в ядре
Linux <https://github.com/riscv/riscv-linux>`__, `в
GCC <https://github.com/riscv/riscv-gcc>`__, и `в
Glibc <https://github.com/riscv/riscv-glibc>`__, но в остальном еще
работы много. Например, `только начали добавлять поддержку RISC-V в
RPM <https://github.com/rpm-software-management/rpm/pull/81>`__. Так что
опасения народа довольно понятны.

Мы будем следить за развитием событий.

