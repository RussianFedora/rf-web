.. title: Новости systemd за прошедший месяц-полтора.
.. slug: Новости-systemd-за-прошедший-месяц-полтора
.. date: 2013-12-12 11:52:52
.. tags: systemd, sailfish, jolla, fleet, coreos, containers, kdbus, archlinux, rhel, debian, canonical, upstart
.. category:
.. link:
.. description:
.. type: text
.. author: Peter Lemenkov

**Это архивная статья**


Выход RHEL 7 Beta c systemd `не стал для нас
новостью </content/Планы-red-hat-на-rhel-7>`__, но за этот месяц были и
другие примечательные systemd-события.

Наконец-то вышел первый `полноценный мобильный телефон на базе
systemd <https://www.opennet.ru/opennews/art.shtml?num=38545>`__ от
компании Jolla. Ну, если по-честному, то 450 экземпляров первой партии
выглядит не очень внушительно, но это уже значит, что Jolla продвинулась
в бесконечное количество раз дальше, чем другая компания, показывающая
рендер мифического смартфона, щедро приправленный подмигиваниями о
ведущихся переговорах с неназываемыми производителями. Если говорить о
конкурентах Sailfish, то к сожалению, systemd пока не используется в
Anroid - у Google пока нет заинтересованных в этом инженеров, зато он
уже используется в Tizen.

`Сетевые возможности
systemd </content/В-systemd-приходит-управление-сетью>`__ были
расширены. Теперь `systemd умеет создавать
bridge <http://cgit.freedesktop.org/systemd/systemd/commit/?id=02b59d5>`__,
спасибо разработчику Arch Linux, `Tom
Gundersen <https://plus.google.com/+TomGundersen/about>`__. Кстати, в
NetworkManager эта фича `ожидается лишь в Fedora
20 <https://fedoraproject.org/wiki/Features/NetworkManagerBridging>`__,
т.е. в других дистрибутивах можно ожидать лишь к лету-осени 2014 года.

Разработчики проекта
`CoreOS </content/coreos-новый-дистрибутив-на-базе-chromeos>`__
продолжают расширять функциональность systemd. До сих пор его
возможности для интеграции в кластерную систему были незначительны -
так, `встроенный
HTTP-сервер </content/systemd-и-встроенный-в-него-http-сервер>`__, чтоб
получить логи, `запуск виртуальных машин и контейнеров с помощью socket
activation </content/Короткие-новости-6>`__. Вот и все, что вспоминается
навскидку. Это, конечно, не удовлетворяет запросам инженеров сложных
систем, состоящих из десятков и сотен тысяч контейнеров, на которых и
ориентируется проект CoreOS. Именно поэтому в рамках проекта был написан
на golang еще один компонент -
`coreinit <https://github.com/coreos/coreinit>`__. Это надстройка над
etcd и systemd для управления процессами в виртуальных машинах и
контейнерах. Если вам раньше требовался SSH-доступ (или иной
shell-access) на виртуальную машину, то теперь это не нужно. Вряд ли
приложение будет включено в состав systemd, но в перспективе его
функциональность может быть частично перенесена.

Kay Sievers `в своей ленте G+
объявил <https://plus.google.com/+KaySievers/posts/N3EixQ2Zcby>`__, что
`kdbus </content/Перенос-d-bus-в-ядро-linux>`__ уже можно пробовать, и
выложил `инструкцию (с логом) запуска тестового контейнера с systemd и
kdbus <http://people.freedesktop.org/~kay/kdbus-container-install.txt>`__.

Lennart Poettering `чуть более подробно рассказал о текущей
ситуации <https://plus.google.com/+LennartPoetteringTheOneAndOnly/posts/P36CwxfAsiM>`__.

Почти все работает, кроме одного важного момента - нет разграничения по
пользователям. Прямо сейчас в kdbus регистрировать имена может лишь
суперпользователь, а простые юзеры могут посылать кому угодно какие
угодно сообщения. Это, разумеется, проблема. Еще он переводит kdbus на
использование GVariant в качестве внутреннего формата, и в этом ему
помогает один из немногих разработчиков Canonical - `Ryan
Lortie <https://launchpad.net/~desrt>`__. Интересно, что критика
подходов, применяемых в systemd, со стороны Canonical как-то подутихла -
вероятно из-за того, что они наконец-то разобрались в техническом
превосходстве systemd и теперь заняты бэкпортированием фич из systemd в
Upstart, ну и потихоньку втягиваются. Это здорово.

В то время, как инженеры Canonical втихомолку от своего главаря
сотрудничают с нашими коллегами, `Debian продолжает биться в
корчах </content/Печальные-новости-о-debian>`__. Как вы знаете, Debian
теряет свои позиции в пользу более динамичных RHEL/Fedora или даже
Ubuntu. Все понимают это, и нынешний лидер проекта Debian, Lucas
Nussbaum, `разумеется, тоже в
курсе <https://lwn.net/Articles/558735/>`__. Debian, это стабильность в
смысле "окаменелость", и никто уже давно не ожидает увидеть там новые
технологии. Переделать это крайне сложно, т.к. шумные любители юниксвэя
парализуют спамом и персональными атаками любое взвешенное обсуждение на
тему, а т.к. разработчики OSS люди ранимые и пугливые, то нужные шаги
просто не совершаются. А делать что-то надо. Последнее обсуждение того,
на какую систему инициализации переходить, systemd или Upstart,
(разумеется, отказавшись навсегда от бессмысленных поигрушек с просто
неработающими или отстающими на декаду ядрами, типа Hurd или FreeBSD),
превратилось в фарс, наподобие российских выборов - участники Debian,
перепуганные грузом ответственности, брать которую просто разучились,
самоустранились, передав право решать техническому комитету, почти
наполовину состоящему из людей, имеющих коммерческий интерес в одном из
двух вариантов. Нам очень тяжело смотреть на все это, как дети и внуки
смотрели бы на погружающихся в болото старческой деменции родителей.

Lucas, осознавая свое бессилие переломить ситуацию по превращению
когда-то самостоятельного и авторитетного проекта в тестовый полигон
коммерческой компании, сделал последнее, что мог - `ввел в состав
технического
комитета <http://article.gmane.org/gmane.linux.debian.devel.announce/1857>`__
известного разработчика XFree86/X.org, архитектора графических пoдсистем
Unix, начиная от X11 и заканчивая Wayland, Keith Packard. Мы уже
говорили, что `Keith технически грамотно смотрит на архитектуру
Unix </content/systemd-и-wayland>`__, поэтому можно ожидать от него
незаполитизированного мнения, которое может переломить тенденцию
сползания проекта на третьи роли. Ну что, посмотрим.

