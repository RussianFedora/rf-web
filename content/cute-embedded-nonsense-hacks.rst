.. title: "Cute embedded nonsense hacks"
.. slug: cute-embedded-nonsense-hacks
.. date: 2014-01-31 00:52:49
.. tags:
.. category:
.. link:
.. description:
.. type: text
.. author: Peter Lemenkov

**Это архивная статья**


Среди embedded-разработчиков прямо сейчас набирает популярность новый
слоган:
|image0|
Его появление связано со `стандартизацией
AArch64/ARM64 </content/arm64-те-aarch64-и-непростой-путь-перехода-arm-на-новые-стандарты>`__,
и история эта - поучительна и интересна.

Начавшаяся `следующая стадия перехода AMD на
ARM </content/amd-начало-переход-на-arm>`__, это была не единственная
новость на неделе. Компания ARM Ltd анонсировала `Server Base System
Architecture <http://www.arm.com/about/newsroom/arm-ecosystem-collaborates-to-deliver-initial-server-platform-standard.php>`__
- референсную платформу дня 64-битных ARM-платформ (не микропроцессоров,
а сразу целых платформ). Среди основных разработчиков стандарта был наш
коллега Jon Masters. Мы уже рассказывали вам о `вопиющих архитектурных
недостатках 32-битных
ARM-платформ </content/Текущие-недостатки-архитектуры-arm>`__,
следствием которых является непомерно разбухшая директория arch/arm в
исходниках ядра Linux (проверьте сами). Embedded-программистам,
создающим нестандартные решения и живущим по принципу "срубить бабла на
прототипе и откосить от техподдержки", нравится такая казацкая вольница,
т.к. она позволяет быстро лепить готовые нестандартные изделия. Всего-то
делов - скопировать одну из папок arch/arm/mach-\* и/или
arch/arm/plat-\*, и готова новая ARM-система. Понятно, что в результате
там получилось месиво из более-менее повторно используемого кода. Даже
известный любитель положить на стандарты, лишь бы работало у юзера,
Linus Torvalds, и тот тоже был очень недоволен, а `однажды зло ругался
на ARM-разработчиков как раз из-за
этого <http://thread.gmane.org/gmane.linux.kernel/1114495/focus=1114703>`__.

Прошло время, но ситуация не изменилась, и `Торвальдсу пришлось ругаться
снова <http://thread.gmane.org/gmane.linux.kernel/1558693/focus=1558716>`__.

Эта практика создания кастомного ядра на каждый патчлевел архитектуры
идет вразрез с требованиями Enterprise-вендоров, и появление стандартов
стало неизбежным.

Cтандарт на AArch64 создан с оглядкой на опыт Intel и Microsoft,
позволивший им создать предсказуемо работающую, легко расширяемую
архитектуру (PC), и в нее включено много устоявшихся решений. Больше не
нужно компилировать откопанный где-то на FTP-сервере в Тайване тарболл с
форкнутым пару лет назад u-boot - теперь все будет работать с UEFI,
ACPI, Secure Boot, и в дистрибутив будет достаточно включить
единственный образ ядра, который будет работать на любой
AArch64-архитектуре. `Таков
план <https://plus.google.com/+JonMasters/posts/j5Vdu1LKv3b>`__, о
котором нам рассказал Jon Masters, и больше никаких **cute embedded
nonsense hacks**.
Любители форкнуть и скопипастить
`сильно <https://plus.google.com/+VladimirPantelic/posts/U14hxc6k194>`__
`обиделись <https://plus.google.com/+OlofJohansson/posts/E7fGgEnKDWs>`__.

Мы их понимаем, ведь действительно - любой стандарт уменьшает свободу.

Но мы не можем позволить и дальше плодить дикий зоопарк прикольных
хаков, хотя `им и нравится, и
хочется <https://plus.google.com/+OlofJohansson/posts/Y6aLZmfFeT3>`__.

Пусть лучше делают и носят прикольные майки, лишь бы не мешали
развиваться стандартам.


.. |image0| image:: http://peter.fedorapeople.org/stuff/pics/i_do_cute_embedded_nonsense_hacks_shirts-r8152a3c7d6fc436d9527ef4a5eb8bb6e_va6lr_512.jpg
   :target: http://www.zazzle.com/i_do_cute_embedded_nonsense_hacks_shirts-235828345836439410
