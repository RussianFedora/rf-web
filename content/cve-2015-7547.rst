.. title: CVE-2015-7547
.. slug: cve-2015-7547
.. date: 2016-02-17 00:10:38
.. tags: oops, redhat, google, glibc
.. category:
.. link:
.. description:
.. type: text
.. author: Peter Lemenkov

Инженеры Red Hat и Google обнаружили, что `ошибка переполнения буфера в
резолвере
Glibc <https://sourceware.org/bugzilla/show_bug.cgi?id=18665>`__, о
которой сообщили полгода назад, действительно является `ошибкой
переполнения
буфера <https://ru.wikipedia.org/wiki/Переполнение_буфера>`__. Ну,
бывает, что.

Проблема человеческим языком `объясняется на OpenNET.ru
<https://www.opennet.ru/opennews/art.shtml?num=43886>`__, а если хочется
по-технически, то наш коллега, `Carlos O'Donell
<https://plus.google.com/116746191356411907058>`_, `подробно разъяснил
печальность происходящего
<https://sourceware.org/ml/libc-alpha/2016-02/msg00416.html>`__.

Специалисты Google уже предложили `пример использования этой
уязвимости <https://github.com/fjserna/CVE-2015-7547>`__, с
`необходимыми
пояснениями <https://googleonlinesecurity.blogspot.com/2016/02/cve-2015-7547-glibc-getaddrinfo-stack.html>`__.

Для эксплуатации уязвимости многого не нужно. Например, на своем домене
поднимите DNS, и выложите где-нибудь на линуксовом сайте ссылку, да так,
чтобы запрос прошел через ваш DNS - вот и все! Коллеги-аналитики `также
заметили <https://www.opennet.ru/openforum/vsluhforumID3/106751.html#11>`__,
что по умолчанию SSH постоянно что-то резолвит в обратную сторону (порой
эту функцию отключают, т.к. тормозит соединение при неправильно
настроенных DNS, но могут и не отключать) - можно и тут придумать
что-нибудь. Ну и куча десктопного ПО постоянно резолвит домены - от
почтовиков, до торрент-клиентов и `ПО для
Bitcoin <http://qntra.net/2016/02/google-unveils-glibc-dns-client-vulnerability-many-bitcoin-implementations-affected/>`__.
Так что получилась очень кудрявая уязвимость.

Проблему легко было бы исправить правильно настроенным локальным
DNS-резолвером, к которому (и только к которому) и обращалась бы функция
в Glibc, но даже в Fedora такая фича постоянно переносится с релиза на
релиз. `Последний раз ее планировали включить в Fedora
22 </content/Первая-пачка-фич-fedora-22>`__, а теперь `перенесли на
Fedora
24 <https://fedoraproject.org/wiki/Changes/Default_Local_DNS_Resolver>`__.

Архитектурно оказалось слишком хрупко, и тут мы ждем помощи от
разработчиков systemd с `их networkd и
resolved </content/В-systemd-приходит-управление-сетью>`__. А вы думали,
они просто так компоненты интегрируют в систему?

**Upd**: коллеги-аналитики подсказали, что Android в безопасности, т.к.
там не используется Glibc.
