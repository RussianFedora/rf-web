.. title: ScyllaDB доросла до версии 1.0
.. slug: scylladb-доросла-до-версии-10
.. date: 2016-04-19 11:40:58
.. tags:
.. category:
.. link:
.. description:
.. type: text
.. author: Peter Lemenkov

**Это архивная статья**


`ScyllaDB <http://www.scylladb.com/>`__, совместимая реализация `Apache
Cassandra <https://cassandra.apache.org/>`__, о которой `вы уже
слышали </content/scylladb>`__, доросла `до версии
1.0 <http://www.scylladb.com/2016/03/31/release-1.0/>`__. Ну, правда,
разработчики тут же выкатили bugfix-версию
`1.0.1 <http://www.scylladb.com/2016/04/12/release-1.0.1/>`__ в которой
исправили десять (!) критических (!!!) багов в версии 1.0. Ничего
страшного, бывает и не так, дело-то житейское.

Переписывать Cassandra было бы не очень интересно, но наши товарищи
переписали ее используя только наисовременнейшие технологии - разработка
ведется с использованием возможностей стандарта C++14, фреймворка
`Seastar </content/seastar>`__ и последних технологий создания
многопоточного ПО на многоядерных системах. Особо ценно, что они
публикуют огромное количество практически полезных исследований стыка
между ядром и userspace и соответствующих подсистем ядра.

Например, они `провели исследование файловых
систем <http://www.scylladb.com/2016/02/09/qualifying-filesystems/>`__,
в результате которого выявили единственный подходящий вариант для
многопоточного современного приложения - XFS. *Мы заранее просим
прощения за то, что разочаровываем любителей несовершеннолетних файловых
систем, типа ZFS и btrfs, но даже рассматривать эти системы пока
несерьезно. Особенно для критически важных приложений, типа хранения
коллекции любимых видеофайлов где-нибудь в ~/. Если же кто-то нас не
слушает, и использует не XFS (ну или хотя-бы ext4), то `его накажет само
провидение <https://www.linux.org.ru/forum/talks/12518526>`__*. В
дальнейшем, они создали
`CharybdeFS <https://github.com/scylladb/charybdefs>`__, специальную
тестовую файловую систему для эмуляции ошибок файловых систем,
[STRIKEOUT:таких как btrfs]. Коллеги-аналитики уже обсудили тестовую
файловую систему на
`Linux.org.ru <https://www.linux.org.ru/news/opensource/12433303>`__ и
`OpenNET.ru <https://www.opennet.ru/opennews/art.shtml?num=44048>`__.

Система позволяет эмулировать типичные ошибки ФС, такие как ошибки
ввода/вывода, превышение дисковой квоты, нехватка памяти, ситуации когда
файл занят другим процессом. Работа с файлами, кстати, `это не самое
простое занятие <http://danluu.com/file-consistency/>`__, и появление
тестовой ФС может серьезно облегчить процесс разработки и тестирования
ПО. Наши друзья уже `активно используют CharybdeFS при разработке
ScyllaDB <http://www.scylladb.com/2016/02/16/fault-injection-filesystem-software-testing/>`__.

Лицензия, скажем сразу, странноватая - копирайта нет, но есть
рекомендация не использовать во зло. `Что то это нам
напоминает </content/оригинальный-java-json-парсер-удален-из-fedora>`__.

На днях `Glauber Costa (Lord Glauber of
Sealand) <https://github.com/glommer>`__ начал публикацию серии статей о
том, как они `разработали userspace IO
scheduler <http://www.scylladb.com/2016/04/14/io-scheduler-1/>`__.

Складывается впечатление, что народ из ScyllaDB снова делает крутой
разработку системных вещей. Не всё вам на голанге и на Node.js писать!
|image0|
**Разработка на уровне ядра в сравнении с разработкой на Node.js и
golang.**

.. |image0| image:: https://img-fotki.yandex.ru/get/16142/4157331.0/0_17bc68_e7f41a0f_X5L.jpg

