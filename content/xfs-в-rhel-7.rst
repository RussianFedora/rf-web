.. title: XFS в RHEL 7
.. slug: xfs-в-rhel-7
.. date: 2013-12-12 16:38:27
.. tags:
.. category:
.. link:
.. description:
.. type: text
.. author: Peter Lemenkov

**Это архивная статья**


Многие коллеги-аналитики выразили свои сомнения в целесообразности
перехода на XFS по умолчанию в RHEL 7. Возражения разделились на две
части - медленная работа с множеством маленьких файлов и потери данных
при авариях. С первым пунктом `разобрались еще в прошлом
году </content/развитие-xfs>`__, а вот по авариям - мы уверены, что
пользователям надо бы следить за физическим состоянием жесткого диска, и
не повторять легенды времени включения XFS в Linux.

Кстати, развитие XFS почти полностью ведется инженерами Red Hat (как и
всегда, они развивают ключевые Open Source продукты, используемые в их
продуктах), и если кто пропустил, в ноябре была интересная история.

Несмотря на почти половину всей работы над файловой системой, инженер
Red Hat, Dave Chinner не был ее мэйнтейнером. Система формально была под
контролем компании `SGI <http://www.sgi.com/>`__ - мэйнтером числился
инженер SGI Alex Elder, и, вероятно, была еще скрытая от нас иерархия
принятия решений в самой компании SGI.

Неожиданно, еще один инженер SGI, Ben Myers, выступил с инициативой -
`сменить мэйнтейнера с ушедшего от них разработчика на другого работника
компании <http://oss.sgi.com/pipermail/xfs/2013-November/031614.html>`__.

Шаг вполне понятный - компания хочет сохранить управление над проектом.

Но не тут то было! Разработчик Red Hat, `Ric
Wheeler <http://www.linkedin.com/pub/ric-wheeler/6/880/939>`__ обратил
внимание коммьюнити, `что это не очень
демократично <http://oss.sgi.com/pipermail/xfs/2013-November/031619.html>`__,
и что `у продвигаемого будущего мэйнтейнера всего два десятка
патчей <http://oss.sgi.com/pipermail/xfs/2013-November/031622.html>`__,
относящихся к файловой системе. В принципе и у старого мэйнтейнера тоже
было с три дюжины патчей, но это всех устраивало.

Фишка в том, что все управленческие изменения в OSS-коммьюнити
происходят согласно правилу меритократии. Т.е. тот, кто пишет код, тот и
решает - именно поэтому Red Hat скупает разработчиков, и именно поэтому
участники Fedora Community решают, в состав чего войдет udev.

Несогласные, конечно, могут форкать, но дело в том, что их не слушают
именно потому, что они пишут мало кода, и практика показывает, что после
враждебного форка, кода от них будет также ничтожное количество. В общем
понятно, что так, как хотелось бы в невидимой нам управленческой
иерархии SGI, приказом по отделу, у нас дела не делаются.

Возвращаясь к XFS - после изучения git log, выяснилось, что есть два
лидера. Это разработчик Red Hat, Dave Chinner, и Christoph Hellwig,
бывший сотрудник SGI, продолжающий работу над файловой системой. Среди
них и предстояло бы выбирать, но `Christoph взял самоотвод в пользу
Dave <http://oss.sgi.com/pipermail/xfs/2013-November/031628.html>`__, и
`инженер Red Hat, наконец-то получил контроль над развитием
XFS <https://git.kernel.org/cgit/linux/kernel/git/torvalds/linux.git/commit/?id=ec715ca>`__.

Как раз перед релизом RHEL 7!
Интересно, что коллеги-аналитики с иностранных сайтов заподозрили тут
заговор известно кого, с понятно какой целью, хотя тут все просто - если
хочешь контролировать разработку, то напиши с четверть или больше
патчей.

