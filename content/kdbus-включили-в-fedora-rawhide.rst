.. title: kdbus включили в Fedora Rawhide!
.. slug: kdbus-включили-в-fedora-rawhide
.. date: 2015-07-10 16:59:51
.. tags:
.. category:
.. link:
.. description:
.. type: text
.. author: Peter Lemenkov

**Это архивная статья**


Наконец-то в Fedora Rawhide `включили поддержку
kdbus <https://src.fedoraproject.org/cgit/kernel.git/commit/?id=8be4430>`__.

Как обычно, мы предлагаем пользователям других дистрибутивов попробовать
Fedora, и то, как интересные вам приложения будут работать. То, что
включается в Fedora, то будет и в вашем дистрибутиве, но, как обычно, с
задержкой в полгода-год-полтора-два.

Неожиданно, в kdbus на самом видном месте нашли дыру в безопасности.

`Уже известный вам </content/dan-walsh-не-рекомендует-audit2allow-m>`__
американский кгбшник из NSA, `Stephen
Smalley <http://www.internetsociety.org/who-we-are/speaker-biography/stephen-smalley>`__,
спросил, `зачем в kdbus предусмотрели механизм "подделки" клиентских
параметров
доступа <https://thread.gmane.org/gmane.linux.kernel/1992832>`__.

Оказалось, что `такая функциональность нужна для единственного
сценария <https://thread.gmane.org/gmane.linux.kernel/1992832/focus=1992998>`__,
для работы прослойки совместимости с устаревшим DBUS1. Эта прослойка
выполнена в виде демона, который с одной стороны подключен к kdbus, с
другой совместим со старым API, и этому демону нужно подделывать
параметры доступа, чтобы подключенные к нему по старому API приложения
правильно регистрировать. Т.е. это не дыра, а костыль (или костыледыра,
или дырокостыль).

Функционал, скажем сразу, сомнительный. Технически, пересборка
приложения с новой библиотекой для kdbus сделает необходимость в такой
прослойке ненужной, но пересобрать все не получится, да и неизбежно
вылезут проблемы. Придется плакать и колоться, но грызть.

