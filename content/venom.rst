.. title: Venom
.. slug: venom
.. date: 2015-05-14 13:10:13
.. tags:
.. category:
.. link:
.. description:
.. type: text
.. author: Peter Lemenkov

**Это архивная статья**


Вчера была анонсирована крайне опасная уязвимость в коде KVM/Qemu -
`Venom <http://venom.crowdstrike.com/>`__
(`CVE-2015-3456 <https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2015-3456>`__).

Вкратце, дыра в коде виртуального флоппи-диска позволяет вырваться за
пределы гостевой системы, в процесс Qemu. Очень опасная уязвимость, и
обновления уже вышли - рекомендуем сначала обновиться, а потом читать
дальше.

Но есть и хорошие новости! Если у вас работает SELinux, то вырваться
дальше, в хостовую систему, не получится, сообщает нам `в своей ленте
Google+ <%3Ca%20href=>`__ наш коллега, `Daniel P.
Berrangé <https://www.openhub.net/accounts/berrange>`__. Дело в том, что
в KVM/Qemu уже давно штатно включена технология sVirt, разрабатываемая с
2008 года, и использующая SELinux или AppArmour. Наш коллега, Dan Walsh,
как раз `презентовал технологию в 2009
году <https://danwalsh.livejournal.com/30565.html>`__. Эту ошибку sVirt
+ SELinux не исправляет, но ущерб радикально ограничивает - зловред не
выпрыгнет за пределы ресурсов, выделенных отравленному процессу.

Разумеется, если вы наслушались анонимных аналитиков, которые
рекомендуют отключить SELinux (например,
`ноль <https://www.linux.org.ru/forum/web-development/10224572#comment-10224583>`__,
`раз <https://www.linux.org.ru/forum/talks/10412571#comment-10415212>`__,
`два <https://www.linux.org.ru/news/kernel/4573446#comment-4573638>`__,
`три </content/Прекратите-отключать-selinux-и-не-принимайте-советов-от-valve>`__,
`четыре <https://www.linux.org.ru/forum/admin/6740767#comment-6740985>`__
и т.п.), т.к. "мешает работать", "ненужно" и т.п., и правда отключили
его, то вы сами виноваты. Интересно, что некоторые из коллег-аналитиков
регулярно задают нам вопросы типа "приведите хоть один пример, когда
SELinux помог?". Как говорится, *"никогда такого не было, и вот опять"*.
